!function(t,e){function n(t,n){return 1==arguments.length&&(n=t,t=e),t.getElementById(n)}function i(t,n){return 1==arguments.length&&(n=t,t=e),t.getElementsByClassName(n)}function s(t,n){if(1==arguments.length&&(n=t,t=e),e.querySelectorAll)return t.querySelectorAll("*[toggler-"+n+"]");for(var i=[],s=t.getElementsByTagName("*"),o=0;o<s.length;o++){var r=s[o].getAttribute("toggler-"+n);r&&""!=r&&i.push(s[o])}return i}function o(t){return new RegExp("(^|\\s+)"+t+"(\\s|$)")}function r(t){t=t||{},this.$container=n(t.container||"container"),this.$items=i(this.$container,t.items||"item"),this.activeClass=t.activeClass||"item-active",this.orientation=t.orientation||"vertical",this.onPresent=t.onPresent||this.noop,this.onDismiss=t.onDismiss||this.noop,this.onResize=t.onResize||this.noop,this.repeat=t.repeat||!1,this.duration=t.duration||500,this.resizeDelay=t.resizeDelay||30,this._length=this.$items.length,this._current=0,this._size=0,this._itemsState=[],this._plantform=g?"mobile":"desktop",this._factory=[],this.init(),this.handerTouch(),this.on("onPresent",this.onPresent),this.on("onDismiss",this.onDismiss)}function a(t,e){t.style["-webkit-transform"]=e,t.style.transform=e}function c(t,e){t.style["-webkit-transition"]=e+"ms",t.style.transition=e+"ms"}function u(t){return t?t:window.event}var h,l,f,m,p=e.dispatchEvent,g=(Object.prototype.hasOwnProperty,/iPad|iPhone|android/i.test(navigator.userAgent)),y=p?function(t,e,n,i){return t.addEventListener(e,n,!!i),n}:function(t,e,n){return t.attachEvent&&t.attachEvent("on"+e,n),n};"classList"in e.documentElement?(h=function(t,e){return t.classList.contains(e)},l=function(t,e){t.classList.add(e)},f=function(t,e){t.classList.remove(e)}):(hasclass=function(t,e){o(e).test(t.className)},l=function(t,e){h(t,e)||(t.className+=" "+e)},f=function(t,e){h(t,e)&&(t.className=t.className.replace(o(e)," "))}),m=function(t,e){var n=h(t,e)?f:l;n(t,e)};var v=null,d=function(t,e){clearTimeout(v),v=setTimeout(function(){e(),v=null},t)};r.prototype.init=function(){this._size="vertical"===this.orientation?this.$container.offsetHeight:this.$container.offsetWidth,this.plantform=g?"mobile":"desktop",this.present(this._current,"noop",!0)},r.prototype.present=function(t,e,n){var i=this;this._current=t;var s=this.$items[this._current];1!==this._itemsState[t]&&(this._itemsState[t]=1,s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=this.$container.offsetWidth+"px",s.style.height=this.$container.offsetHeight+"px"),l(s,this.activeClass);var o=this.transform();o[e](s),i.toggler(s,"present")},r.prototype.dismiss=function(t,e){var n=this.$items[t],i=this.transform();this.toggler(n,"dismiss",!0),f(n,this.activeClass),i[e](n)},r.prototype.toggler=function(t,e,n){var i=this,o=s(t,this._plantform);for(c=0;c<o.length;c++){var r=o[c],a=r.getAttribute("toggler-"+this._plantform);a=a.split(" ");for(var c=0;c<a.length;c++){var u=a[c];""!=u&&(n?"present"===e?(l(r,u),i.emit("onPresent",i._current)):(f(r,u),i.emit("onDismiss",c)):setTimeout(function(){"present"===e?(l(r,u),i.emit("onPresent",i._current)):(f(r,u),i.emit("onDismiss",c))},this.duration))}}},r.prototype.on=function(t,e){if("function"!=typeof e)throw"parameter callback must be a function";if(this._factory[t])throw"event"+t+"was registered";return this._factory=e,this},r.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments).slice(1),n=this._factory[t];n&&n.apply(this,e)},r.prototype.noop=function(){},r.prototype.handerTouch=function(e){var n,i,s,o,r=this,a=g?"touchstart":"mousedown",c=g?"touchend":"mouseup";y(this.$container,a,function(t){n="vertical"===r.orientation?u(t).pageY:u(t).pageX}),y(this.$container,c,function(t){i="vertical"===r.orientation?u(t).pageY:u(t).pageX,s=n-i>0?r._current+1:r._current-1,o=r.repeat&&(0>s||s>=r._length)?!0:!1,s=0>s?r.repeat?r._length-1:-1:s>=r._length?r.repeat?0:-1:s,r.moveTo(s,o)}),y(t,"resize",function(t){d(r.resizeDelay,function(){r.toggler(r.$items[r._current],"dismiss"),r._itemsState=[],r.init(),r.onResize()})})},r.prototype.moveTo=function(t,e){if(-1!=t){var n=this._current,i=t-n>0?!0:!1,s=i?e?"frontOut":"backOut":e?"backOut":"frontOut",o=i?e?"backIn":"frontIn":e?"frontIn":"backIn";this.present(t,o),this.dismiss(n,s)}},r.prototype.transform=function(){var t=this;return{frontIn:function(e){t.animByTransform(e,t._size,0)},frontOut:function(e){t.animByTransform(e,0,t._size)},backIn:function(e){t.animByTransform(e,-1*t._size,0)},backOut:function(e){t.animByTransform(e,0,-1*t._size)},noop:function(t,e){var n="translate3d(0, 0, 0)";a(t,n)}}},r.prototype.animByTransform=function(t,e,n){var i=this;if("vertical"===this.orientation){var s="translate3d(0, "+e+"px, 0)";a(t,s),c(t,0),setTimeout(function(){s="translate3d(0, "+n+"px, 0)",a(t,s),c(t,i.duration)},10)}else{var s="translate3d("+e+"px, 0, 0)";c(t,0),a(t,s),setTimeout(function(){s="translate3d("+n+"px, 0, 0)",a(t,s),c(t,i.duration)},10)}},t.ScreenSlider=r}(self,self.document);