!function(t,e){function n(t,n){return 1==arguments.length&&(n=t,t=e),t.getElementById(n)}function r(t,n){return 1==arguments.length&&(n=t,t=e),t.getElementsByClassName(n)}function o(t,n){if(1==arguments.length&&(n=t,t=e),e.querySelectorAll)return t.querySelectorAll("*[toggler-"+n+"]");for(var i=[],r=t.getElementsByTagName("*"),o=0;o<r.length;o++){var s=r[o].getAttribute("toggler-"+n);s&&""!=s&&i.push(r[o])}return i}function s(t){return new RegExp("(^|\\s+)"+t+"(\\s|$)")}function a(t){return t?t:window.event}function c(t){return t=a(t),t.target||t.srcElement}function u(t){return t.wheelDelta?t.wheelDelta:40*-t.detail}function l(t){t=t||{},this.$container=n(t.container||"container"),this.$items=r(this.$container,t.items||"item"),this.activeClass=t.activeClass||"item-active",this.orientation=t.orientation||"vertical",this.onPresent=t.onPresent||this.noop,this.onDismiss=t.onDismiss||this.noop,this.onResize=t.onResize||this.noop,this.repeat=t.repeat||!1,this.duration=t.duration||500,this.resizeDelay=t.resizeDelay||30,this.scrollWheelDelay=t.scrollWheelDelay||200,this.pager=n(t.pager||"pager"),this.pagerDistance=t.pagerParam||40,this.pagerOrientation=t.pagerOrientation||"vertical",this.pagerIndicator=this.pager&&r(this.pager,"pager-current-indicator")[0],this.current=0,this._length=this.$items.length,this._size=0,this._itemsState=[],this._factory=[],this.init(),this.setup()}function h(t,e){t.style["-webkit-transform"]=e,t.style["-ms-transform"]=e,t.style.transform=e}function f(t,e){t.style["-webkit-transition"]=e+"ms",t.style["-ms-transition"]=e+"ms",t.style.transition=e+"ms"}function p(t,e,n,i,r,o){t.timer&&(clearTimeout(t.timer),t.itemer=null);var s=o/r,a=t.style;a[e]=n+"px",r=n>i&&r>0?-1*r:0>r?-1*r:r;var c=r>=0?!0:!1;t.timer=function(){n+=r,a[e]=n+"px",(n>=i&&c||i>=n&&!c)&&(console.log("fuck"),a[e]=i+"px",clearTimeout(t.timer),t.timer=null),setTimeout(t.timer,s)},t.timer()}var m,g,y,d,v=e.dispatchEvent,_=!1,T=e.documentMode&&9==e.documentMode,b=_||T,P=(Object.prototype.hasOwnProperty,/iPad|iPhone|android/i.test(navigator.userAgent)),z=v?function(t,e,n,i){return t.addEventListener(e,n,!!i),n}:function(t,e,n){return t.attachEvent&&t.attachEvent("on"+e,n),n},D=v?function(t,e,n,i){t.removeEventListener(e,n||$.noop,!!i)}:function(t,e,n){t.detachEvent&&t.detachEvent("on"+e,n||$.noop)};"classList"in e.documentElement?(m=function(t,e){return t.classList.contains(e)},g=function(t,e){t.classList.add(e)},y=function(t,e){t.classList.remove(e)}):(m=function(t,e){return s(e).test(t.className)},g=function(t,e){m(t,e)||(t.className+=" "+e)},y=function(t,e){m(t,e)&&(t.className=t.className.replace(s(e)," "))}),d=function(t,e){var n=m(t,e)?y:g;n(t,e)};var x=function(t,e){var n,i,r=null;return function(){i=this,n=arguments,clearTimeout(r),r=setTimeout(function(){e.apply(i,n),r=null},t)}};l.prototype.init=function(){this._size="vertical"===this.orientation?this.$container.offsetHeight:this.$container.offsetWidth,this._plantform=this.configPlantform(),this.present(this.current,"noop",!0)},l.prototype.setup=function(){this.handerTouch(),this.handlerPager(),this.on("onPresent",this.onPresent),this.on("onDismiss",this.onDismiss)},l.prototype.present=function(t,e,n){var i=this;this.current=t;var r=this.$items[this.current];1!==this._itemsState[t]&&(this._itemsState[t]=1,r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width=this.$container.offsetWidth+"px",r.style.height=this.$container.offsetHeight+"px"),g(r,this.activeClass);var o=this.transform();o[e](r),i.toggler(r,"present",n)},l.prototype.dismiss=function(t,e){var n=this.$items[t],i=this.transform();this.toggler(n,"dismiss",!0),y(n,this.activeClass),i[e](n)},l.prototype.toggler=function(t,e,n){function r(){for(i=0;i<c.length;i++){var t=c[i],n=t.getAttribute("toggler-"+a);if(n){n=n.split(" ");for(var r=0;r<n.length;r++){var o=n[r];""!=o&&("present"===e?(g(t,o),s.emit("onPresent",s.current)):(y(t,o),s.emit("onDismiss",i)))}}}}var s=this,a=this._plantform,c=o(t,this._plantform);n?r():setTimeout(r,this.duration)},l.prototype.on=function(t,e){if("function"!=typeof e)throw"parameter callback must be a function";if(this._factory[t])throw"event"+t+"was registered";return this._factory=e,this},l.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments).slice(1),n=this._factory[t];n&&n.apply(this,e)},l.prototype.configPlantform=function(){return this.$container.offsetWidth>768?"desktop":"mobile"},l.prototype.noop=function(){},l.prototype.handerTouch=function(e){function n(t){var e,n,o=a(t),s=u(o);e=s>0?f.current+1:f.current-1,n=i(e),e=r(e),f.pagerTo(e,n)}function i(t){return f.repeat&&(0>t||t>=f._length)?!0:!1}function r(t){return t=0>t?f.repeat?f._length-1:-1:t>=f._length?f.repeat?0:-1:t}function o(t){f.configPlantform()!==f._plantform&&(f.toggler(f.$items[f.current],"dismiss",!0),f._plantform=f.configPlantform(),f.setup()),f._itemsState=[],setTimeout(function(){f.onResize(),f.init()},0)}var s,c,l,h,f=this,p=P?"touchstart":"mousedown",m=P?"touchend":"mouseup";z(this.$container,p,function(t){s="vertical"===f.orientation?a(t).pageY:a(t).pageX}),z(this.$container,m,function(t){c="vertical"===f.orientation?a(t).pageY:a(t).pageX,Math.abs(c-s)<10||(l=s-c>0?f.current+1:f.current-1,h=i(l),l=r(l),f.pagerTo(l,h))});var g=x(f.scrollWheelDelay,n);z(this.$container,"mousewheel",g),z(this.$container,"DOMMouseScroll",g),z(t,"resize",x(f.resizeDelay,o))},l.prototype.handlerPager=function(){if(this.pager){{var t=this,e=r(this.pager,"pager-list-item");"horizontal"==this.pagerOrientation?"left":"top"}this.pagerIndicator.style.top=this.current*this.pagerDistance+"px",this.pagerIndicator.style.display="block";for(var n=0;n<e.length;n++)!function(){var i=n,r=e[i];r.onclick=function(){t.pagerTo(i)}}()}},l.prototype.moveTo=function(t,e){if(-1!=t){var n=this.current,i=t-n>0?!0:!1,r=i?e?"frontOut":"backOut":e?"backOut":"frontOut",o=i?e?"backIn":"frontIn":e?"frontIn":"backIn";this.present(t,o),this.dismiss(n,r)}},l.prototype.pagerTo=function(t,e){var n="horizontal"==this.pagerOrientation?"left":"top";this.pagerIndicator&&(p(this.pagerIndicator,n,this.pagerDistance*this.current,this.pagerDistance*t,2,30),this.moveTo(t,e))},l.prototype.transform=function(){var t=this;return b?{frontIn:function(e){t.animByPosition(e,t._size,0)},frontOut:function(e){t.animByPosition(e,0,t._size)},backIn:function(e){t.animByPosition(e,-1*t._size,0)},backOut:function(e){t.animByPosition(e,0,-1*t._size)},noop:function(t){t.style.left="0px",t.style.top="0px"}}:{frontIn:function(e){t.animByTransform(e,t._size,0)},frontOut:function(e){t.animByTransform(e,0,t._size)},backIn:function(e){t.animByTransform(e,-1*t._size,0)},backOut:function(e){t.animByTransform(e,0,-1*t._size)},noop:function(t){var e="translate3d(0, 0, 0)";h(t,e)}}},l.prototype.animByPosition=function(t,e,n){"vertical"===this.orientation?(t.style.left="0px",p(t,"top",e,n,1,this.duration)):(t.style.top="0px",p(t,"left",e,n,2,this.duration))},l.prototype.animByTransform=function(t,e,n){var i=this;if("vertical"===this.orientation){var r="translate3d(0, "+e+"px, 0)";h(t,r),f(t,0),setTimeout(function(){r="translate3d(0, "+n+"px, 0)",f(t,i.duration),h(t,r)},30)}else{var r="translate3d("+e+"px, 0, 0)";f(t,0),h(t,r),setTimeout(function(){r="translate3d("+n+"px, 0, 0)",f(t,i.duration),h(t,r)},10)}},t.ScreenSlider=l,t.tool={getById:n,getByClass:r,getByToggler:o,bind:z,unbind:D,hasClass:m,addClass:g,removeClass:y,togglerClass:d,transformWriter:h,transitionWriter:f,getEvent:a,getTarget:c,animByPosition:p}}(self,self.document);